
<?
include_once('./_common.php');

$_list_page = true;
$data_sub = "show";
$_listVideoPopup = true;
$data_visit = "1";
$data_sub_visit = "1";

include_once(G5_PATH.'/head2.php');


$cnt = sql_fetch("select count(wr_id) as cnt from g5_write_calender where ca_name = 'ë˜‘ë˜‘ ìœ„í´ë¦¬' and wr_3 != '' and wr_id = wr_parent ");
$total_cnt = $cnt["cnt"];

?>


<div class="list-contents">
    <div class="public--wrap">
        <div class="public--where">
            <div class="public--where-before">
                <a href="/">Home<span class="material-symbols-outlined">navigate_next</span></a>
            </div>
            <div class="public--where-before">
                <a href="/chlinc3.html">ì±„ë„ ë§í¬3.0<span class="material-symbols-outlined">navigate_next</span></a>
            </div>
            <div class="public--where-now">
                <a href="">ë˜‘ë˜‘ ìœ„í´ë¦¬</a>
            </div>
        </div>
    </div>
    <div class="public--wrap">
        <div class="list--bnr" style="background-color: #151c26;">
            <div class="list--bnr-text">
                <div class="list--bnr-textBox">
                    <p class="list--bnr-text00 knock"><span>MC ì„œê²½ì„</span></p>
                    <p class="list--bnr-text01">ë˜‘ë˜‘ ìœ„í´ë¦¬</p>
                    <!-- 221104 SJM í…ìŠ¤íŠ¸ ì‚­ì œ -->
                    <!-- <p class="list--bnr-text02">#LINC3.0 ì‚¬ì—… í•µì‹¬ ì´ìŠˆ<br>#ì¼íƒ€ ê°•ì‚¬ê°€ ì™ì™! ì•Œë ¤ì£¼ëŠ” ì•Œì§œ ì‚¬ì—… ì •ë³´</p> -->
                    <p class="list--bnr-text02">#LINC3.0 ì‚¬ì—… í•µì‹¬ ì´ìŠˆ <br>#ë§í¬ ì‚¬ì—…ì˜ ì´ì•¼ê¸°ë¥¼ ëª¨ì•„ëª¨ì•„ <br>#ì„œê²½ì„ì´ ì•Œë ¤ì£¼ëŠ” ì•Œì§œ ì‚¬ì—… ì •ë³´</p>
                </div>
                <p class="list--bnr-text03">â°&nbsp;ë§¤ì£¼ í™”ìš”ì¼ 13:00<br>Youtube/í™ˆí˜ì´ì§€ì—ì„œ ë§Œë‚˜ìš”!</p>
            </div>
            <div class="list--bnr-bg list--bnr-bg-a">
                <div class="list--bnr-bgImg">
                    <img src="/img/linc03_bnr01_char.png" alt="">
                    <img src="/img/linc03_bnr01_char_mobile.png" alt="">
                </div>
            </div>
        </div>
        <div class="list--sort">
            <div class="list--sort-option">
                <!--
                    div.list--sort-optionValueìš”ì†Œê¸° sorting ì˜µì…˜ê°’ì…ë‹ˆë‹¤.
                    ì˜µì…˜ê°’ì€ ì¤‘ë³µë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
                    ìµœì´ˆì˜µì…˜ê°’ì€ ìµœì‹ ë“±ë¡ ìˆœ(ì²«ë²ˆì§¸ ì˜µì…˜ê°’)ì…ë‹ˆë‹¤.
                    ë²„íŠ¼ í´ë¦­ ì‹œ í˜ì´ì§€ ì´ë™ ì—†ì´ í•´ë‹¹ í˜ì´ì§€ ë‚´ì—ì„œ ì•„ì´í…œ ì •ë ¬ì„ ë¶€íƒë“œë¦½ë‹ˆë‹¤.
                -->
                <div class="list--sort-optionValue checked" data-sort="new">
                    <div class="list--sort-optionState">
                        <span class="list--sort-optionValue-off"></span>
                        <span class="list--sort-optionValue-on material-symbols-outlined">done</span>
                    </div>
                    <div class="list--sort-optionName">ìµœì‹ ë“±ë¡ ìˆœ</div>
                </div>
                <div class="list--sort-optionValue" data-sort="old">
                    <div class="list--sort-optionState">
                        <span class="list--sort-optionValue-off"></span>
                        <span class="list--sort-optionValue-on material-symbols-outlined">done</span>
                    </div>
                    <div class="list--sort-optionName">ì˜¤ë˜ëœ ìˆœ</div>
                </div>
                <div class="list--sort-optionValue" data-sort="hit"> 
                    <div class="list--sort-optionState">
                        <span class="list--sort-optionValue-off"></span>
                        <span class="list--sort-optionValue-on material-symbols-outlined">done</span>
                    </div>
                    <div class="list--sort-optionName">ì¡°íšŒ ìˆœ</div>
                </div>
            </div>
            <!-- 
                sorting ê¸°ëŠ¥ ì‹¤í–‰ í›„ ì •ë ¬ëœ ì•„ì´í…œì˜ ê°œìˆ˜ë¥¼ 
                <b>{ì—¬ê¸°ì— ì¶œë ¥ë˜ê²Œ ë¶€íƒë“œë¦½ë‹ˆë‹¤.}</b>
            -->
            <div class="list--sort-itemCount">
                <span>ì´ <b><?=number_format($total_cnt)?></b>ê°œ</span>
            </div>
        </div>
        <div class="list--container">
            <div class="list--wrap">
                <!-- ë§í¬ ì»´í¼ë‹ˆì˜ ì˜ìƒì•„ì´í…œì´ list--itemì— ë‹´ê²¨ì ¸ ì¶œë ¥ë˜ê²Œ ë¶€íƒë“œë¦½ë‹ˆë‹¤. -->
                <!-- í•´ë‹¹ ì•„ì´í…œì€ ìµœì´ˆì— ìµœëŒ€ 9ê°œ ê¹Œì§€ ì¶œë ¥ë˜ê³ ,ê·¸ í›„ë¡œëŠ” div#viewMore[ë”ë³´ê¸°] ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ 6ê°œì”© ìˆœì°¨ì ìœ¼ë¡œ ì¶œë ¥ë˜ë„ë¡ ë¶€íƒë“œë¦½ë‹ˆë‹¤.-->
                
                <!-- ì•„ë˜ë¡œ list--item 3ê°œëŠ” ì˜ˆì‹œì…ë‹ˆë‹¤. ì‚­ì œ í›„ ì‘ì—… ì§„í–‰ ë¶€íƒë“œë¦½ë‹ˆë‹¤. -->
            </div>
        </div>
    </div>
    <!-- ì•„ë˜ì˜ #viewMore ë²„íŠ¼ í´ë¦­ ì‹œ, ìœ„ì˜ ì•„ì´í…œì„ 6ê°œì”© ì¶”ê°€ë¡œ ì¶œë ¥ ë¶€íƒë“œë¦½ë‹ˆë‹¤. -->
    <div class="list--viewMore"><div id="viewMore" class="list--viewMore-btn">ë” ë³´ê¸°</div></div>
    <div class="subscribeLincBar">
        <div class="public--wrap">
            <div class="subscribeLincBar--wrap">
                <div><p>ì±„ë„ ë§í¬3.0ì˜ ë‹¤ì–‘í•œ ì •ë³´ë¥¼ ì¦ê²¨ë³´ì„¸ìš”.</p><span>ğŸ˜ƒ</span></div>
                <a href="https://www.youtube.com/channel/UCLXFkJr1mEY-ZUxym7__bZw" target="blank">ì±„ë„ ë§í¬3.0 êµ¬ë…í•˜ëŸ¬ê°€ê¸°</a>
            </div>
        </div>
    </div>
</div>


<script>

var _page = 1;
var _total_cnt = '<?=$total_cnt?>';
var _ca_name = 'ë˜‘ë˜‘ ìœ„í´ë¦¬';
var _sort = 'new';
function list_load(reset)
{
    const getListXhr = $.ajax({
        url: g5_bbs_url+"/ajax.list.php",
        type: "POST",
        data: {
            "page" : _page,
            "sort" : _sort,
            "total_count" : _total_cnt,
            "ca_name" : _ca_name
        },
        dataType: "html",
        async: true,
        cache: false,
        success: function(data) {
            
            if(data == "")
            {
                alert("í˜ì´ì§€ê°€ ì—†ìŠµë‹ˆë‹¤.");
            }

            if(reset){
                $(".list--wrap").html(data);
            }
            else{
                $(".list--wrap").append(data);
            }

            

        },
        complete : function(data) {
            
        },
        error : function(xhr, status, error) {
            alert(error);
        }
    }).then(()=>{
        listItemCount = document.querySelectorAll(".list--item").length
        if( listItemCount >= _total_cnt ){
            $("#viewMore").addClass("hide")
        }else {
            return
        }
    });
}

$(document).ready( function() {
    list_load(true);
} );

$(function() {
    $(document).on("click", ".list--itemThumb-img", function() {
        var vi_id = $(this).data("vi_id");
        var wr_id = $(this).data("wr_id");
        
        $.ajax({
            url: g5_bbs_url+"/ajax.view_cnt.php",
            type: "POST",
            data: {"wr_id" : wr_id},
            dataType: "json",
            async: true,
            cache: false,
            success: function(data) {
            }
        })
        
        $("#listVideoPopup_video").attr("src", "https://www.youtube.com/embed/"+vi_id+"?enablejsapi=1&version=3&playerapiid=ytplayer");

        $("#listVideoPopup").addClass('show');
        
    });
    var listItemCount = document.querySelectorAll(".list--item").length
    console.log(listItemCount)
    $("#viewMore").click(function() {
        _page = _page + 1;
        list_load(false);
    });


    $(".list--sort-optionValue").click(function(){
        _sort = $(this).data("sort");
        _page = 1;
        list_load(true);
    });
});

</script>

<?php
include_once(G5_PATH.'/tail2.php');
?>